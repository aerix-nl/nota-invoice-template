'use strict';
var base, bower, dependencies, onDependenciesLoaded, onError, root, withNota, withoutNota;

(base = Function.prototype).bind || (base.bind = function(_this) {
  return (function(_this) {
    return function() {
      return _this.apply(_this, arguments);
    };
  })(this);
});

root = './../../';

bower = 'bower_components/';

requirejs.config({
  enfordeDefine: true,
  paths: {
    'jquery': root + bower + 'jquery/dist/jquery',
    'underscore': root + bower + 'underscore/underscore',
    'underscore.string': root + bower + 'underscore.string/lib/underscore.string',
    'handlebars': root + bower + 'handlebars/handlebars.amd',
    'material-design-lite': root + bower + 'material-design-lite/material.min',
    'moment': root + bower + 'momentjs/moment',
    'moment_nl': root + bower + 'momentjs/locale/nl',
    'i18next': root + bower + 'i18next/i18next.amd.withJQuery',
    'tv4': root + bower + 'tv4/tv4',
    'json': root + bower + 'requirejs-plugins/src/json',
    'text': root + bower + 'requirejs-text/text',
    'requirejs': root + bower + 'requirejs/require',
    'template-controller': './template-controller',
    'template-model': './template-model',
    'schema': root + 'json/schema.json',
    'translation_nl': root + 'json/locales/nl.json',
    'translation_en': root + 'json/locales/en.json',
    'preview-data': root + 'json/preview.json',
    'nota': '/nota/lib/client'
  }
});

dependencies = ['template-controller'];

onDependenciesLoaded = function(TemplateController) {
  var error, error1, templateController;
  requirejs.onError = function(err) {
    throw err;
  };
  if (typeof Nota !== "undefined" && Nota !== null) {
    Nota.trigger('template:init');
  }
  try {
    if (typeof Nota !== "undefined" && Nota !== null) {
      templateController = new TemplateController(onError, Nota);
    } else {
      templateController = new TemplateController(onError);
    }
  } catch (error1) {
    error = error1;
    onError(error);
    if (typeof Nota !== "undefined" && Nota !== null) {
      if (typeof Nota !== "undefined" && Nota !== null) {
        Nota.logError(error, "An error occured during template initialization.");
      }
    } else {
      throw error;
    }
  }
  if (typeof Nota !== "undefined" && Nota !== null) {
    Nota.trigger('template:loaded');
  }
  window.template = templateController;
  return templateController;
};

onError = function(error, contextMessage) {
  var errorList, errorText, li, manual, type;
  if (window.errorTemplate == null) {
    window.errorTemplate = document.getElementById('template-error').innerHTML;
    document.body.innerHTML = window.errorTemplate;
  }
  if (window.errorListItem == null) {
    window.errorListItem = document.querySelectorAll("div.error-container ul li.error")[0];
    document.querySelectorAll("div.error-container ul")[0].innerHTML = "";
  }
  errorList = document.querySelectorAll("div.error-container ul")[0];
  li = errorListItem.cloneNode();
  if (contextMessage != null) {
    li.innerHTML = contextMessage + ' ' + error;
  } else if (error.requireType != null) {
    type = document.createElement('strong');
    type.innerHTML = "Module require error (" + error.requireType + ").";
    errorText = document.createTextNode(error.message);
    li.appendChild(type);
    li.appendChild(errorText);
  } else {
    li.innerHTML = error;
  }
  errorList.appendChild(li);
  if ((error.requireModules != null) === 'nota') {
    manual = document.querySelectorAll("div.manual-container")[0];
    manual.style.display = 'block';
  }
  if (error.requireModules != null) {
    throw error;
  }
};

withNota = function(Nota) {
  return require(dependencies, onDependenciesLoaded, onError);
};

withoutNota = function(error) {
  if (window._phantom) {
    onError(error);
  }
  requirejs.undef('nota');
  return require(dependencies, onDependenciesLoaded, onError);
};

requirejs.onError = onError;

require(['nota'], withNota, withoutNota);

//# sourceMappingURL=data:application/json;base64,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QUFWO0lBQXdCLE9BQUEsQ0FBUSxLQUFSLEVBQXhCOztFQUlBLFNBQVMsQ0FBQyxLQUFWLENBQWdCLE1BQWhCO1NBR0EsT0FBQSxDQUFRLFlBQVIsRUFBc0Isb0JBQXRCLEVBQTRDLE9BQTVDO0FBWFk7O0FBa0JkLFNBQVMsQ0FBQyxPQUFWLEdBQW9COztBQUdwQixPQUFBLENBQVEsQ0FBQyxNQUFELENBQVIsRUFBa0IsUUFBbEIsRUFBNEIsV0FBNUIiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0J1xuXG4jIFdvcmthcm91bmQgdG8gc3VwcHJlc3MgYSBmbG9vZCBvZiBQaGFudG9tSlMgd2FybmluZ3MgaW4gY2VydGFpbiB2ZXJzaW9uc1xuRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQgfHw9ICggX3RoaXMgKSAtPiA9PiBAYXBwbHkoX3RoaXMsIGFyZ3VtZW50cylcblxucm9vdCA9ICcuLy4uLy4uLydcbmJvd2VyID0gJ2Jvd2VyX2NvbXBvbmVudHMvJ1xucmVxdWlyZWpzLmNvbmZpZyB7XG4gIGVuZm9yZGVEZWZpbmU6IHRydWVcbiAgcGF0aHM6XG4gICAgIyBWZW5kb3IgZ29vZGllcyB0aGlzIHRlbXBsYXRlIGRlcGVuZHMgb25cbiAgICAnanF1ZXJ5JzogICAgICAgICAgICAgICAgIHJvb3QrYm93ZXIrJ2pxdWVyeS9kaXN0L2pxdWVyeSdcbiAgICAndW5kZXJzY29yZSc6ICAgICAgICAgICAgIHJvb3QrYm93ZXIrJ3VuZGVyc2NvcmUvdW5kZXJzY29yZSdcbiAgICAndW5kZXJzY29yZS5zdHJpbmcnOiAgICAgIHJvb3QrYm93ZXIrJ3VuZGVyc2NvcmUuc3RyaW5nL2xpYi91bmRlcnNjb3JlLnN0cmluZydcbiAgICAnaGFuZGxlYmFycyc6ICAgICAgICAgICAgIHJvb3QrYm93ZXIrJ2hhbmRsZWJhcnMvaGFuZGxlYmFycy5hbWQnXG4gICAgJ21hdGVyaWFsLWRlc2lnbi1saXRlJzogICByb290K2Jvd2VyKydtYXRlcmlhbC1kZXNpZ24tbGl0ZS9tYXRlcmlhbC5taW4nXG4gICAgJ21vbWVudCc6ICAgICAgICAgICAgICAgICByb290K2Jvd2VyKydtb21lbnRqcy9tb21lbnQnXG4gICAgJ21vbWVudF9ubCc6ICAgICAgICAgICAgICByb290K2Jvd2VyKydtb21lbnRqcy9sb2NhbGUvbmwnXG4gICAgJ2kxOG5leHQnOiAgICAgICAgICAgICAgICByb290K2Jvd2VyKydpMThuZXh0L2kxOG5leHQuYW1kLndpdGhKUXVlcnknXG4gICAgJ3R2NCc6ICAgICAgICAgICAgICAgICAgICByb290K2Jvd2VyKyd0djQvdHY0J1xuXG4gICAgIyBSZXF1aXJlSlMganNvbiEgZGVwc1xuICAgICdqc29uJzogICAgICAgICAgICAgICAgICAgcm9vdCtib3dlcisncmVxdWlyZWpzLXBsdWdpbnMvc3JjL2pzb24nXG4gICAgJ3RleHQnOiAgICAgICAgICAgICAgICAgICByb290K2Jvd2VyKydyZXF1aXJlanMtdGV4dC90ZXh0J1xuICAgICdyZXF1aXJlanMnOiAgICAgICAgICAgICAgcm9vdCtib3dlcisncmVxdWlyZWpzL3JlcXVpcmUnXG5cbiAgICAjIFRlbXBsYXRlIHN0dWZmXG4gICAgJ3RlbXBsYXRlLWNvbnRyb2xsZXInOiAgICAnLi90ZW1wbGF0ZS1jb250cm9sbGVyJ1xuICAgICd0ZW1wbGF0ZS1tb2RlbCc6ICAgICAgICAgJy4vdGVtcGxhdGUtbW9kZWwnXG4gICAgJ3NjaGVtYSc6ICAgICAgICAgICAgICAgICByb290Kydqc29uL3NjaGVtYS5qc29uJ1xuICAgICd0cmFuc2xhdGlvbl9ubCc6ICAgICAgICAgcm9vdCsnanNvbi9sb2NhbGVzL25sLmpzb24nXG4gICAgJ3RyYW5zbGF0aW9uX2VuJzogICAgICAgICByb290Kydqc29uL2xvY2FsZXMvZW4uanNvbidcbiAgICAncHJldmlldy1kYXRhJzogICAgICAgICAgIHJvb3QrJ2pzb24vcHJldmlldy5qc29uJ1xuXG4gICAgIyBOb3RhIGNsaWVudFxuICAgICdub3RhJzogICAgICAgICAgICAgICAgICAgJy9ub3RhL2xpYi9jbGllbnQnXG59XG5cbmRlcGVuZGVuY2llcyA9IFtcbiAgJ3RlbXBsYXRlLWNvbnRyb2xsZXInXG5dXG5cbiMgVGhpcyBmdW5jdGlvbiB3aWxsIGJlIGV4ZWN1dGVkIHdoZW4gYWxsIGRlcGVuZGVuY2llcyBoYXZlIHN1Y2Nlc3NmdWxseVxuIyBsb2FkZWQgKHRoZXkgYXJlIHBhc3NlZCBpbiBhcyBhcmd1bWVudHMpLlxub25EZXBlbmRlbmNpZXNMb2FkZWQgPSAoIFRlbXBsYXRlQ29udHJvbGxlciApIC0+XG4gICMgV2UgY2FuIGRpc2FibGUgbW9kdWxlL3NjcmlwdCBsb2FkIGVycm9yIGNhdGNoaW5nIG5vdy4gRnJvbSBoZXJlIG9uIHdlIHVzZVxuICAjIG91ciBvd24gKE5vdGEubG9nRXJyb3IpIHdoaWNoIHdvcmtzIHdpdGggdGhlIGxpbWl0YXRpb25zIG9mIFBoYW50b21KUyBhbmRcbiAgIyBnZXRzIHRoZSBlcnJvciBvYmplY3RzIGludG8gdGhlIGNvbnNvbGVzIChyZXF1aXJlanMub25FcnJvciBjYXRjaGVzIEFMTFxuICAjIGVycm9ycyBhbmQgcHJldmVudHMgdGhlbSBmcm9tIHJlYWNoaW5nIHRoZSBjb25zb2xlLCB3aGljaCBpcyByZWFsbHlcbiAgIyBhbm5veWluZyB3aGVuIHlvdSBjYW4gdXNlIHRoYXQgaW5mbyBpbiBOb2RlLmpzIGJhY2tlbmQgZm9yIGxvZ2dpbmcpLlxuICAjIEJhc2ljcyBvZiBnb29kIGRlc2lnbiBzdGF0ZXMgdGhhdCBlcnJvcnMgc2hvdWxkIGJlIGFsd2F5cyBiZSBsb3VkIGFuZFxuICAjIHZpc2libGUsIHRvIGxvd2VyIHRoZSBkaXNjb3ZlcnkgdGhlc2hvbGQuIFJlcXVpcmVKUydzIGVycm9yIGhhbmRsaW5nIGdvZXNcbiAgIyBhZ2FpbnN0IHRoYXQgcHJhY3RpY2UgaW4gdGhpcyBjYXNlLlxuICByZXF1aXJlanMub25FcnJvciA9IChlcnIpLT4gdGhyb3cgZXJyXG5cbiAgIyBTaWduYWwgYmVnaW4gb2YgdGVtcGxhdGUgaW5pdGlhbGl6YXRpb25cbiAgTm90YT8udHJpZ2dlciAndGVtcGxhdGU6aW5pdCdcblxuICB0cnlcbiAgICBpZiBOb3RhP1xuICAgICAgdGVtcGxhdGVDb250cm9sbGVyID0gbmV3IFRlbXBsYXRlQ29udHJvbGxlcihvbkVycm9yLCBOb3RhKVxuICAgIGVsc2VcbiAgICAgIHRlbXBsYXRlQ29udHJvbGxlciA9IG5ldyBUZW1wbGF0ZUNvbnRyb2xsZXIob25FcnJvcilcbiAgY2F0Y2ggZXJyb3JcbiAgICBvbkVycm9yKGVycm9yKVxuICAgIGlmIE5vdGE/XG4gICAgICBOb3RhPy5sb2dFcnJvciBlcnJvciwgXCJBbiBlcnJvciBvY2N1cmVkIGR1cmluZyB0ZW1wbGF0ZSBpbml0aWFsaXphdGlvbi5cIlxuICAgIGVsc2VcbiAgICAgIHRocm93IGVycm9yXG5cbiAgIyBTaWduYWwgdGhhdCB3ZSdyZSBkb25lIHdpdGggc2V0dXAgYW5kIHRoYXQgd2UncmUgcmVhZHkgdG8gcmVjZWl2ZSBkYXRhXG4gIE5vdGE/LnRyaWdnZXIgJ3RlbXBsYXRlOmxvYWRlZCdcblxuICAjIEZvciBlYXN5IHVzZSBpbiB0aGUgZ2xvYmFsIG5hbWVzcGFjZVxuICB3aW5kb3cudGVtcGxhdGUgPSB0ZW1wbGF0ZUNvbnRyb2xsZXJcblxuICAjIEZvciB1c2UgaW4gbW9kdWxlcyByZXF1aXJpbmcgdGhpcyBvbmVcbiAgcmV0dXJuIHRlbXBsYXRlQ29udHJvbGxlclxuXG5cblxuXG5cbiMgU29tZSB2YW5pbGxhSlMgZXJyb3IgaGFuZGxpbmcgaW4gY2FzZSB3ZSBjYW4ndCBsb2FkIHRoZSBtb2R1bGVzIChhbmQgY2FuJ3RcbiMgdXNlIHRvb2xzIGxpa2UgalF1ZXJ5IGVpdGhlcikuXG5vbkVycm9yID0gKGVycm9yLCBjb250ZXh0TWVzc2FnZSktPlxuICAjIEVuc3VyZSB3ZSBnZXQgdGhlIHRlbXBsYXRlIGZyb20gdGhlIGJvZHkgb24gdGhlIGZpcnN0IGVycm9yLCBhbmQgc2F2ZSBpdFxuICAjIGluIHRoZSByb290IGZvciBhbGwgbGF0ZXIgZXJyb3NcbiAgaWYgbm90IHdpbmRvdy5lcnJvclRlbXBsYXRlP1xuICAgIHdpbmRvdy5lcnJvclRlbXBsYXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RlbXBsYXRlLWVycm9yJykuaW5uZXJIVE1MXG4gICAgZG9jdW1lbnQuYm9keS5pbm5lckhUTUwgPSB3aW5kb3cuZXJyb3JUZW1wbGF0ZVxuXG4gICMgTWFrZSBhbiBpbnN0YW5jZSBvZiB0aGUgZXJyb3IgbGlzdCBpdGVtXG4gIGlmIG5vdCB3aW5kb3cuZXJyb3JMaXN0SXRlbT9cbiAgICB3aW5kb3cuZXJyb3JMaXN0SXRlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJkaXYuZXJyb3ItY29udGFpbmVyIHVsIGxpLmVycm9yXCIpWzBdXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcImRpdi5lcnJvci1jb250YWluZXIgdWxcIilbMF0uaW5uZXJIVE1MID0gXCJcIlxuXG4gICMgRmlsbCB0aGUgbGlzdCB3aXRoIGVycm9yIGxpc3QgaXRlbXNcbiAgZXJyb3JMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcImRpdi5lcnJvci1jb250YWluZXIgdWxcIilbMF1cbiAgbGkgPSBlcnJvckxpc3RJdGVtLmNsb25lTm9kZSgpXG4gIGlmIGNvbnRleHRNZXNzYWdlP1xuICAgIGxpLmlubmVySFRNTCA9IGNvbnRleHRNZXNzYWdlICsgJyAnICsgZXJyb3JcbiAgZWxzZSBpZiBlcnJvci5yZXF1aXJlVHlwZT9cbiAgICB0eXBlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3Ryb25nJylcbiAgICB0eXBlLmlubmVySFRNTCA9IFwiTW9kdWxlIHJlcXVpcmUgZXJyb3IgKCN7ZXJyb3IucmVxdWlyZVR5cGV9KS5cIlxuICAgIGVycm9yVGV4dCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGVycm9yLm1lc3NhZ2UpXG4gICAgbGkuYXBwZW5kQ2hpbGQgdHlwZVxuICAgIGxpLmFwcGVuZENoaWxkIGVycm9yVGV4dFxuICBlbHNlXG4gICAgbGkuaW5uZXJIVE1MID0gZXJyb3JcbiAgZXJyb3JMaXN0LmFwcGVuZENoaWxkIGxpXG5cbiAgaWYgZXJyb3IucmVxdWlyZU1vZHVsZXM/IGlzICdub3RhJ1xuICAgIG1hbnVhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJkaXYubWFudWFsLWNvbnRhaW5lclwiKVswXVxuICAgIG1hbnVhbC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJ1xuXG4gICMgSWYgd2UgY3Jhc2hlZCBiZWNhdXNlIHdlIGNvdWxkbid0IHJlcXVpcmUgc29tZSBuZWVkZWQgbW9kdWxlcywgd2UgY2FuJ3RcbiAgIyBhc3N1bWUgTm90YSdzIC5sb2dFcnJvciBpcyBhdmFpbGFibGUuIFNvIGNvbnRpbnVlIHdlJ2xsIHRvIHRocm93IHRoZSBlcnJvclxuICAjIHNvIGl0IHNob3dzIHVwIGluIGNvbnNvbGVzLiBSZXF1aXJlSlMgc2lsZW5jZXMgdGhlbSB1bmxlc3Mgd2UgZG8gc29cbiAgIyBleHBsaWNpdGx5LlxuICBpZiBlcnJvci5yZXF1aXJlTW9kdWxlcz8gdGhlbiB0aHJvdyBlcnJvclxuXG5cblxuXG5cblxud2l0aE5vdGEgPSAoTm90YSktPlxuICAjIEdvb2QgdG8gaGVhciB5b3UgY291bGQgam9pbi4gVGltZSB0byBzdGFydCB0aGUgdGVtcGxhdGVcbiAgcmVxdWlyZShkZXBlbmRlbmNpZXMsIG9uRGVwZW5kZW5jaWVzTG9hZGVkLCBvbkVycm9yKVxuXG53aXRob3V0Tm90YSA9IChlcnJvciktPlxuICAjIEF3LCBubyBOb3RhPyBJZiB3ZSdyZSBob3N0ZWQgaW4gUGhhbnRvbUpTIHdlJ2xsIG5lZWQgTm90YS4gU28gaW4gdGhhdCBjYXNlXG4gICMgaXQgd291bGQgYmUgYSBmYXRhbCBwcm9ibGVtLiBCdXQgd2UgbWlnaHQgYXMgd2VsbCBiZSBydW5uaW5nIHN0YW5kYWxvbmUsXG4gICMgYW5kIHdlJ2xsIGRvIHdpdGhvdXQuXG4gIGlmIHdpbmRvdy5fcGhhbnRvbSB0aGVuIG9uRXJyb3IoZXJyb3IpXG5cbiAgIyBVbmRlZmluZSBOb3RhLCB3ZSBrbm93IGhlIHdvbid0IGpvaW4gdGhlIHJpZGUsIHNvIGl0J3Mgbm90IGEga25vd25cbiAgIyBkZXBlbmRlbmN5IGFueW1vcmUuXG4gIHJlcXVpcmVqcy51bmRlZignbm90YScpXG5cbiAgIyBDb250aW51ZSBzdGFuZGFsb25lXG4gIHJlcXVpcmUoZGVwZW5kZW5jaWVzLCBvbkRlcGVuZGVuY2llc0xvYWRlZCwgb25FcnJvcilcblxuXG5cblxuXG4jIEZvciBjYXRjaGluZyBzY3JpcHQvbW9kdWxlIGxvYWQgZXJyb3JzXG5yZXF1aXJlanMub25FcnJvciA9IG9uRXJyb3JcblxuIyBXZSdsbCBhdHRlbXB0IHRvIGxvYWQgTm90YVxucmVxdWlyZShbJ25vdGEnXSwgd2l0aE5vdGEsIHdpdGhvdXROb3RhKVxuIl19
